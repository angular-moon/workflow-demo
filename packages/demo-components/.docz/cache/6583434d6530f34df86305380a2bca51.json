{"remainingRequest":"/Users/moon/Desktop/workflow-demo/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[\"react-app\",[\"/Users/moon/Desktop/workflow-demo/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":false,\"typescript\":true,\"parseProps\":false}]],\"plugins\":[\"react-hot-loader/babel\",[\"styled-components\",{\"displayName\":true}],\"lodash\",[\"ramda\",{\"useES\":true}],[\"/Users/moon/Desktop/workflow-demo/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/moon/Desktop/workflow-demo/node_modules/docz-core/node_modules/react-hot-loader/babel.js\"],\"babelrc\":false,\"cacheDirectory\":true,\"cacheCompression\":false,\"compact\":false}!/Users/moon/Desktop/workflow-demo/node_modules/react-docgen-typescript-loader/dist/index.js!/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts","dependencies":[{"path":"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts","mtime":1544413060396},{"path":"/Users/moon/Desktop/workflow-demo/node_modules/docz-core/node_modules/cache-loader/dist/cjs.js","mtime":1543070515439},{"path":"/Users/moon/Desktop/workflow-demo/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1543070467004},{"path":"/Users/moon/Desktop/workflow-demo/node_modules/react-docgen-typescript-loader/dist/index.js","mtime":1543070515902}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/moon/Desktop/workflow-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _assign from \"lodash/assign\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport { utils } from 'demo-common';\nimport wrappedDeclareActions from '../actions/apply.action';\nimport { workflowDemo } from '../api';\nvar unwrapActions = utils.unwrapActions;\nvar declareActions = unwrapActions(wrappedDeclareActions);\n\nvar defaultState = function defaultState() {\n  return _assign({}, {\n    catalog: {}\n  });\n};\n\nvar _default = {\n  namespace: 'apply',\n  state: defaultState(),\n  reducers: {\n    fetchSuccess: function fetchSuccess(state, _ref) {\n      var payload = _ref.payload;\n      return _objectSpread({}, state, payload);\n    },\n    reset: function reset(state) {\n      return defaultState();\n    }\n  },\n  effects: {\n    fetch:\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function fetch(_ref2, _ref3) {\n      var payload, call, put, _ref4, data;\n\n      return _regeneratorRuntime.wrap(function fetch$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              payload = _ref2.payload;\n              call = _ref3.call, put = _ref3.put;\n              _context.prev = 2;\n              _context.next = 5;\n              return call(workflowDemo.declares_id_get, {\n                params: {\n                  id: payload\n                }\n              });\n\n            case 5:\n              _ref4 = _context.sent;\n              data = _ref4.data;\n              _context.next = 9;\n              return put(declareActions.fetchSuccess(data));\n\n            case 9:\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, fetch, this, [[2, 11]]);\n    })\n  }\n};\nvar _default2 = _default;\nexport default _default2;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(unwrapActions, \"unwrapActions\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(declareActions, \"declareActions\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(defaultState, \"defaultState\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(_default, \"default\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  leaveModule(module);\n})();\n\n;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(unwrapActions, \"unwrapActions\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(declareActions, \"declareActions\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(defaultState, \"defaultState\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  reactHotLoader.register(_default2, \"default\", \"/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/moon/Desktop/workflow-demo/packages/demo-components/src/models/apply.model.ts"],"names":["utils","wrappedDeclareActions","workflowDemo","unwrapActions","declareActions","defaultState","catalog","namespace","state","reducers","fetchSuccess","payload","reset","effects","fetch","call","put","declares_id_get","params","id","data","console","log"],"mappings":";;;;;;;;;;;;;;;;AAAA,SAASA,KAAT,QAAsB,aAAtB;AAEA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,SAASC,YAAT,QAA6B,QAA7B;IAEQC,a,GAAkBH,K,CAAlBG,a;AAER,IAAMC,cAAc,GAAGD,aAAa,CAACF,qBAAD,CAApC;;AAEA,IAAMI,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAM,QAAO,EAAP,EAAW;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAX,CAAN;AAAA,CAArB;;eAEe;AACbC,EAAAA,SAAS,EAAE,OADE;AAEbC,EAAAA,KAAK,EAAEH,YAAY,EAFN;AAGbI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YADQ,wBACKF,KADL,QACyB;AAAA,UAAXG,OAAW,QAAXA,OAAW;AAC/B,+BAAYH,KAAZ,EAAsBG,OAAtB;AACD,KAHO;AAIRC,IAAAA,KAJQ,iBAIFJ,KAJE,EAIK;AACX,aAAOH,YAAY,EAAnB;AACD;AANO,GAHG;AAWbQ,EAAAA,OAAO,EAAE;AACNC,IAAAA,KADM;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACEH,cAAAA,OADF,SACEA,OADF;AACeI,cAAAA,IADf,SACeA,IADf,EACqBC,GADrB,SACqBA,GADrB;AAAA;AAAA;AAGc,qBAAMD,IAAI,CAACb,YAAY,CAACe,eAAd,EAA+B;AACxDC,gBAAAA,MAAM,EAAE;AAAEC,kBAAAA,EAAE,EAAER;AAAN;AADgD,eAA/B,CAAV;;AAHd;AAAA;AAGKS,cAAAA,IAHL,SAGKA,IAHL;AAAA;AAOH,qBAAMJ,GAAG,CAACZ,cAAc,CAACM,YAAf,CAA4BU,IAA5B,CAAD,CAAT;;AAPG;AAAA;AAAA;;AAAA;AAAA;AAAA;AASHC,cAAAA,OAAO,CAACC,GAAR;;AATG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXI,C;;AAAf;;;;;;;;;;;;0BANQnB,a;0BAEFC,c;0BAEAC,Y;;;;;;;;;;;;;;;;;0BAJEF,a;0BAEFC,c;0BAEAC,Y","sourcesContent":["import { utils } from 'demo-common';\nimport { assign } from 'lodash';\nimport wrappedDeclareActions from '../actions/apply.action';\nimport { workflowDemo } from '../api';\n\nconst { unwrapActions } = utils;\n\nconst declareActions = unwrapActions(wrappedDeclareActions);\n\nconst defaultState = () => assign({}, { catalog: {} });\n\nexport default {\n  namespace: 'apply',\n  state: defaultState(),\n  reducers: {\n    fetchSuccess(state, { payload }) {\n      return { ...state, ...payload };\n    },\n    reset(state) {\n      return defaultState();\n    },\n  },\n  effects: {\n    *fetch({ payload }, { call, put }) {\n      try {\n        const { data } = yield call(workflowDemo.declares_id_get, {\n          params: { id: payload },\n        });\n        // 保存数据\n        yield put(declareActions.fetchSuccess(data));\n      } catch (e) {\n        console.log(e);\n      }\n    },\n  },\n};\n"]}]}